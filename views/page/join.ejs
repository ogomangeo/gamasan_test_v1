<style>
  /* 전체 폼을 감싸는 컨테이너 스타일 추가 */
  .join-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
    color: #666;
  }

  .join-form-group {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin: 10px 0;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .join-form-group label {
    width: 25%;
    margin-right: 20px;
    text-align: right;
  }

  .join-form-group input,
  .join-form-group select {
    width: 70%;
    padding: 8px;
    box-sizing: border-box;
  }

  .join-required-section,
  .join-optional-section {
    border-bottom: 1px dotted #cccccc;
    padding-bottom: 10px;
    margin-bottom: 15px;
  }

  .join-h3 {
    font-size: 1.1em;
    color: #555;
    margin-top: 20px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .join-h2 {
    text-align: center;
    color: black;
  }

  .join-button {
    width: 600px;
    padding: 10px;
    background-color: #000080;
    color: white;
    border: none;
    cursor: pointer;
    display: block;
    margin: 0 auto 50px auto;
  }

  .join-benefits {
    background-color: #f8f8f8;
    border: 1px solid #ddd;
    padding: 15px;
    border-radius: 5px;
    margin: 20px 0;
    text-align: center;  /* 추가 */
}

  .join-benefits h3 {
    font-size: 1.1em;
    color: #333;
    margin-bottom: 10px;
  }
  .join-benefits ul {
    margin: 0;
    padding: 0;
    list-style-type: none;  /* disc 제거 */
    padding-left: 0;  /* 왼쪽 패딩 제거 */
    color: #555;
}
</style>

<div class="join-container">
  <h2 class="join-h2">Avopic 회원가입</h2>

  <div class="join-benefits">
    <h3>🎉 특별한 시작, 당신과 함께합니다! 🎉</h3><br>
    <p><strong>새롭게 오픈한 Avopic 홈페이지에 오신 것을 환영합니다!</strong> <br><br> 🌐 지금 회원가입하시면 특별한 초기 멤버가 되어 다양한 혜택을 누리실 수 있습니다. 🎁</p>
    <ul>
        <li>👤 <strong>회원 전용 아이디:</strong> 초기 멤버로 가입하시면, 서비스가 발전했을 때 특별한 아이디로 차별화된 대우를 받으실 수 있습니다! ✨</li><br>
        <li>💸 <strong>특별 할인 혜택:</strong> 앞으로 출시될 다양한 상품을 초기 멤버에게만 제공되는 특별 혜택으로 만나보세요! 🛍️</li><br>
        <li>🎈 <strong>재미와 정보가 가득한 커뮤니티:</strong> 재미있는 자료, 흥미로운 내용들을 공유하며 즐거운 시간을 보내세요. 🎉</li><br>
        <li>🛠️ <strong>함께 성장하는 기회:</strong> 많은 기능이 준비 중입니다.보다 더 나은 홈페이지로 발전하겠습니다. 🌱</li>
    </ul>
    <p>👉 <strong>지금 바로 회원가입하고 특별한 혜택을 누려보세요!</strong> 🎊</p>
</div>


  <div class="join-required-section">
    <h3 class="join-h3">필수 정보</h3>
    <form id="join-signupForm">
      <div class="join-form-group">
        <label for="join-email">이메일 주소:</label>
        <input type="email" id="join-email" required>
      </div>

      <div class="join-form-group">
        <label for="join-password">비밀번호:</label>
        <input type="password" id="join-password" required>
      </div>

      <div class="join-form-group">
        <label for="join-confirmPassword">비밀번호 확인:</label>
        <input type="password" id="join-confirmPassword" required>
      </div>

      <div class="join-form-group">
        <label for="join-username">활동명:</label>
        <input type="text" id="join-username" required>
      </div>
  </div>

  <div class="join-optional-section">
    <h3 class="join-h3">선택 정보</h3>

    <div class="join-form-group">
      <label for="join-birthdate">생년월일:</label>
      <input type="date" id="join-birthdate" required>
    </div>

    <div class="join-form-group">
      <label for="join-gender">성별:</label>
      <select id="join-gender" required>
        <option value="male">남성</option>
        <option value="female">여성</option>
        <option value="other">기타</option>
      </select>
    </div>

    <div class="join-form-group">
      <label for="join-name">이름:</label>
      <input type="text" id="join-name" required>
    </div>

    <div class="join-form-group">
      <label for="join-phone">휴대폰 번호:</label>
      <input type="tel" id="join-phone" pattern="[0-9]{3}-[0-9]{4}-[0-9]{4}" placeholder="010-1234-5678" required>
    </div>

    <div class="join-form-group">
      <label for="join-address">주소:</label>
      <input type="text" id="join-address" required>
    </div>
  </div>
</div>

<button type="button" class="join-button" onclick="joinValidateForm()">회원가입</button>
</form>

<script>
  async function joinValidateForm() {
    const password = document.getElementById('join-password').value;
    const confirmPassword = document.getElementById('join-confirmPassword').value;
  
    if (password !== confirmPassword) {
      alert("비밀번호가 일치하지 않습니다.");
      return;
    }
  
    // 폼 데이터 수집
    const formData = {
      email: document.getElementById('join-email').value,
      password: password,
      username: document.getElementById('join-username').value,
      birthdate: document.getElementById('join-birthdate').value,
      gender: document.getElementById('join-gender').value,
      name: document.getElementById('join-name').value,
      phone: document.getElementById('join-phone').value,
      address: document.getElementById('join-address').value
    };
  
    try {
      const response = await fetch('/join', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(formData)
      });
  
      const data = await response.json();
  
      if (response.ok) {
        alert('회원가입이 완료되었습니다.');
        window.location.href = '/login'; // 로그인 페이지로 리다이렉트
      } else {
        alert(data.message || '회원가입 중 오류가 발생했습니다.');
      }
    } catch (error) {
      console.error('Error:', error);
      alert('회원가입 중 오류가 발생했습니다.');
    }
  }
  </script>